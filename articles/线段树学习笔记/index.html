<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="https://photo-1314795557.cos.ap-beijing.myqcloud.com/LOGO.png"><link rel="icon" href="https://photo-1314795557.cos.ap-beijing.myqcloud.com/LOGO.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#3D4952"><meta name="author" content="ncwzdlsd"><meta name="keywords" content=""><meta name="description" content="ä¸€ä½æ•°æ®ç»“æ„è’Ÿè’»çªå‘å¥‡æƒ³çš„çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°ï¼Œè¿™ç»å¯¹æ˜¯ä½ çœ‹è¿‡æœ€é€šä¿—æ˜“æ‡‚çš„ä¸€ç¯‡çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°ï¼Œå› ä¸ºä½œè€…å¤ªå¼±äº†ä»–åªèƒ½å†™ä¸€äº›å¾ˆé€šä¿—æ˜“æ‡‚çš„ä¸œè¥¿"><meta property="og:type" content="article"><meta property="og:title" content="çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°"><meta property="og:url" content="http://example.com/articles/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html"><meta property="og:site_name" content="ncwzdlsdçš„åšå®¢"><meta property="og:description" content="ä¸€ä½æ•°æ®ç»“æ„è’Ÿè’»çªå‘å¥‡æƒ³çš„çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°ï¼Œè¿™ç»å¯¹æ˜¯ä½ çœ‹è¿‡æœ€é€šä¿—æ˜“æ‡‚çš„ä¸€ç¯‡çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°ï¼Œå› ä¸ºä½œè€…å¤ªå¼±äº†ä»–åªèƒ½å†™ä¸€äº›å¾ˆé€šä¿—æ˜“æ‡‚çš„ä¸œè¥¿"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://photo-1314795557.cos.ap-beijing.myqcloud.com/image-20230102104243634.png"><meta property="og:image" content="https://photo-1314795557.cos.ap-beijing.myqcloud.com/image-20230102142636246.png"><meta property="article:published_time" content="2023-01-02T02:06:55.000Z"><meta property="article:modified_time" content="2023-01-02T14:34:29.913Z"><meta property="article:author" content="ncwzdlsd"><meta property="article:tag" content="æ•°æ®ç»“æ„"><meta property="article:tag" content="ç¬”è®°"><meta property="article:tag" content="çº¿æ®µæ ‘"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://photo-1314795557.cos.ap-beijing.myqcloud.com/image-20230102104243634.png"><meta name="referrer" content="no-referrer-when-downgrade"><title>çº¿æ®µæ ‘å­¦ä¹ ç¬”è®° - ncwzdlsdçš„åšå®¢</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"example.com",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#0A2B39",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:21517479,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script async>Fluid.ctx.dnt||Fluid.utils.createScript("//js.users.51.la/21517479.js")</script><meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>ncwzdlsdçš„åšå®¢</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>å…³äº</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>å‹é“¾</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://photo-1314795557.cos.ap-beijing.myqcloud.com/021_1_.webp) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> ncwzdlsd </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-01-02 10:06" pubdate>2023å¹´1æœˆ2æ—¥ ä¸Šåˆ</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 3.8k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 11 åˆ†é’Ÿ </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> æ¬¡</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">çº¿æ®µæ ‘å­¦ä¹ ç¬”è®°</h1><p class="note note-info">æœ¬æ–‡æœ€åæ›´æ–°äºï¼š2023å¹´1æœˆ2æ—¥ æ™šä¸Š</p><div class="markdown-body"><blockquote><p>äº‹æƒ…çš„èµ·å› æ¥è‡ªäº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2023</mn></mrow><annotation encoding="application/x-tex">2023</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">2023</span></span></span></span>å¹´çš„å…ƒæ—¦ï¼Œä¸€ä½è’Ÿè’»ç™¾æ— èŠèµ–ä¸­è¯¯å…¥äº†å¤§ä½¬ä»¬çš„å›¢é˜Ÿä½œä¸šï¼Œå¥½å¥‡å¿ƒæ»¡æ»¡åœ°ç‚¹å¼€äº†<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/CF833B">ç¬¬ä¸€é“é¢˜</a>ï¼Œçœ‹ç€ä¸€è¡ŒåŠçš„é¢˜å¹²ä¿¡å¿ƒæ»¡æ»¡åœ°å‡†å¤‡å¤§å¹²ä¸€åœºï¼Œè°ƒäº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn></mrow><annotation encoding="application/x-tex">30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">30</span></span></span></span>åˆ†é’Ÿå†™å‡ºä¸€ä¸ªåˆ†æ²»+DPçš„æ€è·¯ï¼Œç›´æ¥å¿½ç•¥æ—¶é—´å¤æ‚åº¦æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>Ã—</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2 \times k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="mclose">)</span></span></span></span>çš„äº‹å®ï¼Œç»“æœUKEäº†æ— æ•°æ¬¡åä¸ŠCFä¸€æµ‹å‘ç°ç¬¬ä¸€ä¸ªç‚¹å°±TLEäº†ğŸ˜­ã€‚ç„¶åå‘ç°è¿™é“é¢˜è¦ç”¨çº¿æ®µæ ‘ä¼˜åŒ–ï¼Œç—›å®šæ€ç—›ä»<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span>å¼€å§‹å­¦çº¿æ®µæ ‘ã€‚</p><p>å•Šå•Šå•Šæ˜å¤©çš„å›¢é˜Ÿä½œä¸šå·²ç»å‡ºäº†æˆ‘è¦åˆ‡äº†å®ƒå•Šå•Šå•Šï¼</p></blockquote><h3 id="åŸºç¡€">åŸºç¡€</h3><p>çº¿æ®µæ ‘æ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ€æƒ³çš„äºŒå‰æ ‘ç»“æ„ï¼Œç”¨äºåœ¨åŒºé—´ä¸Šè¿›è¡Œä¿¡æ¯ç»Ÿè®¡ã€‚</p><h4 id="æ€§è´¨">æ€§è´¨</h4><ol><li class="lvl-3"><p>çº¿æ®µæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä»£è¡¨ä¸€ä¸ªåŒºé—´ã€‚</p></li><li class="lvl-3"><p>çº¿æ®µæ ‘å…·æœ‰å”¯ä¸€çš„æ ¹èŠ‚ç‚¹ï¼Œä»£è¡¨çš„åŒºé—´æ˜¯æ•´ä¸ªç»Ÿè®¡èŒƒå›´ã€‚</p></li><li class="lvl-3"><p>çº¿æ®µæ ‘çš„æ¯ä¸ªå¶èŠ‚ç‚¹éƒ½ä»£è¡¨ä¸€ä¸ªé•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>çš„å…ƒåŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x,x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span>ã€‚</p></li><li class="lvl-3"><p>å¯¹äºæ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>ï¼Œå®ƒçš„å·¦å­èŠ‚ç‚¹æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,mid]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">mi</span><span class="mord mathnormal">d</span><span class="mclose">]</span></span></span></span>ï¼Œå³å­èŠ‚ç‚¹æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>m</mi><mi>i</mi><mi>d</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[mid+1,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal">mi</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>i</mi><mi>d</mi><mo>=</mo><mo stretchy="false">âŒŠ</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mrow><mi>l</mi><mo>+</mo><mi>r</mi></mrow><mn>2</mn></mfrac></mstyle><mo stretchy="false">âŒ‹</mo></mrow><annotation encoding="application/x-tex">mid=\lfloor \dfrac{l+r}{2} \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">mi</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-.686em"></span><span class="mopen">âŒŠ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">âŒ‹</span></span></span></span>ã€‚</p></li></ol><p><img src="https://photo-1314795557.cos.ap-beijing.myqcloud.com/image-20230102104243634.png" srcset="/img/loading.gif" lazyload alt="çº¿æ®µæ ‘çš„åŒºé—´è§†è§’ã€äºŒå‰æ ‘è§†è§’"></p><p>é™¤å»æ ‘çš„æœ€åä¸€å±‚ï¼Œæ•´æ£µçº¿æ®µæ ‘ä¸€å®šæ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæ ‘çš„æ·±åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">)</span></span></span></span>ã€‚</p><h4 id="ç¼–å·">ç¼–å·</h4><ul class="lvl-0"><li class="lvl-2"><p>â€œçˆ¶å­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">2</span></span></span></span>å€â€èŠ‚ç‚¹ç¼–å·</p><ol><li class="lvl-5">æ ¹èŠ‚ç‚¹ç¼–å·ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>ã€‚</li><li class="lvl-5">ç¼–å·ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">x</span></span></span></span>çš„èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ç¼–å·ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>Ã—</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">x \times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">2</span></span></span></span>ï¼Œå³å­èŠ‚ç‚¹ç¼–å·ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>Ã—</mo><mn>2</mn><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x \times 2+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">2</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>ã€‚</li></ol></li></ul><p>ä¿å­˜çº¿æ®µæ ‘çš„æ•°ç»„é•¿åº¦è¦ä¸å°äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>N</mi></mrow><annotation encoding="application/x-tex">4N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span>ã€‚</p><h3 id="å»ºæ ‘">å»ºæ ‘</h3><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span>çš„åºåˆ—ã€‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>sum</mtext><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mrow><mi>max</mi><mo>â¡</mo></mrow><mrow><mi>l</mi><mo>â‰¤</mo><mi>i</mi><mo>â‰¤</mo><mi>r</mi></mrow></msub><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow></mrow><annotation encoding="application/x-tex">\text{sum}(l,r)=\max _{l \leq i \leq r}{A[i]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord text"><span class="mord">sum</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop"><span class="mop">max</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:.01968em">l</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">i</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight" style="margin-right:.02778em">r</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:.2452em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></span>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SegmentTree</span><br>{<br>    <span class="hljs-type">int</span> l,r;<br>    <span class="hljs-type">int</span> sum;<br>    <span class="hljs-type">int</span> lazy;<br>    <span class="hljs-comment">//lazyæ‡’æ ‡è®°ï¼Œä¸‹é¢æœ‰è®²QwQ</span><br>}t[size*<span class="hljs-number">4</span>];<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>{<br>    t[k].l=l,t[k].r=r;<br>    <span class="hljs-keyword">if</span>(l==r){t[k].sum=a[l];<span class="hljs-keyword">return</span>;}<br>    <span class="hljs-type">int</span> mid=(l+r)/<span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">build</span>(k*<span class="hljs-number">2</span>,l,mid);<br>    <span class="hljs-built_in">build</span>(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>,mid+<span class="hljs-number">1</span>,r);<br>    t[k].sum=<span class="hljs-built_in">max</span>(t[k].sum,t[k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>].sum);<br>}<br><br><span class="hljs-built_in">build</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,n);<br></code></pre></td></tr></table></figure><h3 id="å•ç‚¹æŸ¥è¯¢-ä¿®æ”¹">å•ç‚¹æŸ¥è¯¢+ä¿®æ”¹</h3><p>ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œé€’å½’æ‰¾åˆ°ä»£è¡¨åŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x,x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span>çš„å¶èŠ‚ç‚¹ï¼Œç„¶åä»ä¸‹å¾€ä¸Šæ›´æ–°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo separator="true">,</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x,x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span>ä»¥åŠå®ƒçš„æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹ä¸Šä¿å­˜çš„ä¿¡æ¯ã€‚æ—¶é—´å¤æ‚åº¦ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">)</span></span></span></span>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//change A[x] to v</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> v)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-keyword">if</span>(t[k].l==t[k].r){t[k].sum=v;<span class="hljs-keyword">return</span>;}<br>    <span class="hljs-type">int</span> mid=(t[k].l+t[k].r)/<span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">if</span>(x&lt;=mid) <span class="hljs-built_in">change</span>(k*<span class="hljs-number">2</span>,x,v);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">change</span>(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>,x,v);<br>    t[k].sum=<span class="hljs-built_in">max</span>(t[<span class="hljs-number">2</span>*k].sum,t[<span class="hljs-number">2</span>*k+<span class="hljs-number">1</span>].sum);<br>}<br><br><span class="hljs-built_in">change</span>(<span class="hljs-number">1</span>,x,v);<br></code></pre></td></tr></table></figure><h3 id="åŒºé—´æŸ¥è¯¢">åŒºé—´æŸ¥è¯¢</h3><p>æŸ¥è¯¢åºåˆ—<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal">A</span></span></span></span>åœ¨åŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>ä¸Šçš„æœ€å¤§å€¼ã€‚</p><p>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’æ‰§è¡Œä»¥ä¸‹è¿‡ç¨‹ã€‚</p><ol><li class="lvl-3"><p>è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>å®Œå…¨è¦†ç›–äº†å½“å‰èŠ‚ç‚¹ä»£è¡¨çš„åŒºé—´ï¼Œåˆ™ç«‹å³å›æº¯ï¼Œå¹¶ä¸”è¯¥èŠ‚ç‚¹çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>sum</mtext></mrow><annotation encoding="application/x-tex">\text{sum}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord text"><span class="mord">sum</span></span></span></span></span>å€¼ä¸ºå€™é€‰ç­”æ¡ˆã€‚</p></li><li class="lvl-3"><p>è‹¥å·¦å­èŠ‚ç‚¹ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>æœ‰é‡å éƒ¨åˆ†ï¼Œåˆ™é€’å½’è®¿é—®å·¦å­èŠ‚ç‚¹ã€‚</p></li><li class="lvl-3"><p>è‹¥å³å­èŠ‚ç‚¹ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>æœ‰é‡å éƒ¨åˆ†ï¼Œåˆ™é€’å½’è®¿é—®å³å­èŠ‚ç‚¹ã€‚</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">ask</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-keyword">if</span>(l&lt;=t[k].l&amp;&amp;r&gt;=t[k].r) <span class="hljs-keyword">return</span> t[k].sum;<br>    <span class="hljs-type">int</span> mid=(t[k].l+t[k].r)/<span class="hljs-number">2</span>;<br>    <span class="hljs-type">int</span> val=-(<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">30</span>);<br>    <span class="hljs-keyword">if</span>(l&lt;=mid) val=<span class="hljs-built_in">max</span>(val,<span class="hljs-built_in">ask</span>(k*<span class="hljs-number">2</span>,l,r));<br>    <span class="hljs-keyword">if</span>(l&gt;mid) val=<span class="hljs-built_in">max</span>(val,<span class="hljs-built_in">ask</span>(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>,l,r));<br>    <span class="hljs-keyword">return</span> val;<br>}<br><br>cout&lt;&lt;<span class="hljs-built_in">ask</span>(<span class="hljs-number">1</span>,l,r)&lt;&lt;endl;<br></code></pre></td></tr></table></figure><p>è¯¥æŸ¥è¯¢è¿‡ç¨‹ä¼šæŠŠè¯¢é—®åŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>å…ˆçº¿æ®µæ ‘ä¸Šåˆ†æˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="mclose">)</span></span></span></span>ä¸ªèŠ‚ç‚¹ï¼Œå–å®ƒä»¬çš„æœ€å¤§å€¼ä½œä¸ºç­”æ¡ˆã€‚</p><h3 id="åŒºé—´ä¿®æ”¹">åŒºé—´ä¿®æ”¹</h3><h4 id="å‰ç½®èŠå£«">å‰ç½®èŠå£«</h4><p>å»¶è¿Ÿæ ‡è®°ï¼Œ<s>å¯èƒ½</s>å°±æ˜¯æ‡’æ ‡è®°ã€‚</p><p>é¡¾åæ€ä¹‰ï¼Œå»¶è¿Ÿæ ‡è®°å°±æ˜¯æ›´æ–°åˆ°æŸä¸€å­åŒºé—´æ—¶ç›´æ¥æ‰“ä¸Šæ ‡è®°ï¼Œå»¶è¿Ÿå¯¹å®ƒçš„å­èŠ‚ç‚¹çš„æ›´æ–°æ“ä½œã€‚<s>ä½†æ˜¯å¤§å®¶éƒ½å«å®ƒæ‡’æ ‡è®°ï¼Œæ‰€ä»¥</s>ä¸‹é¢æˆ‘ä»¬å«å®ƒæ‡’æ ‡è®°ã€‚</p><ul class="lvl-0"><li class="lvl-2"><p>å½“<code>lazy[i]!=0</code>æ—¶ï¼Œè¡¨ç¤º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span>æ›´æ–°è¿‡äº†è€Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span>çš„å­èŠ‚ç‚¹è¿˜æ²¡æœ‰æ›´æ–°ã€‚</p></li></ul><p>å…¶å®å¯ä»¥è¿™ä¹ˆç†è§£å—·ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼š</p><p><img src="https://photo-1314795557.cos.ap-beijing.myqcloud.com/image-20230102142636246.png" srcset="/img/loading.gif" lazyload alt="ä¸¾ä¸ªæ —å­"></p><p>å¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹åŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2,8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span>ä¸Šçš„å€¼ï¼Œä»¤å…¶éƒ½<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">+5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">+</span><span class="mord">5</span></span></span></span>ï¼Œé‚£ä¹ˆå¯ä»¥æ›´æ–°åŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[2,2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">2</span><span class="mclose">]</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[3,3]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">3</span><span class="mclose">]</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6,8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span>ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªè¿™æ ·çš„çœŸåŒ…å«åŒºé—´å°±åŠ ä¸Šä¸€ä¸ªæ‡’æ ‡è®°ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[4,5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">5</span><span class="mclose">]</span></span></span></span>ã€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>6</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[6,8]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">6</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">8</span><span class="mclose">]</span></span></span></span>çš„å­èŠ‚ç‚¹çš„å€¼æ²¡æœ‰æ›´æ–°è¯¶ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œå½“æˆ‘ä»¬éå†åˆ°è¿™ä¸ªæœ‰æ‡’æ ‡è®°çš„èŠ‚ç‚¹æ—¶ï¼Œå¦‚æœæœ‰æ‡’æ ‡è®°ï¼Œé‚£å°±å¯ä»¥æŠŠå®ƒçš„å­èŠ‚ç‚¹ç»™æ›´æ–°å¹¶ä¸”æ‰“ä¸Šæ‡’æ ‡è®°ï¼Œå†æŠŠè¿™ä¸ªæ‡’æ ‡è®°ç»™ç½®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">0</span></span></span></span>ã€‚ä»¥æ­¤ç±»æ¨ã€‚</p><ul class="lvl-0"><li class="lvl-2"><p>æ‡’æ ‡è®°è¦å’Œä¿®æ”¹ç›¸åŒï¼Œæ¯”å¦‚è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">+5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">+</span><span class="mord">5</span></span></span></span>ï¼Œæ‡’æ ‡è®°å°±æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">5</span></span></span></span>ã€‚</p></li><li class="lvl-2"><p>å¦‚æœè¦è¿›è¡Œä¹˜æ³•æ“ä½œï¼Œå’Œä¸Šé¢çš„ä¸€æ ·ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>Ã—</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">\times 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7278em;vertical-align:-.0833em"></span><span class="mord">Ã—</span><span class="mord">5</span></span></span></span>æ‡’æ ‡è®°å°±æ˜¯5ã€‚</p></li></ul><h4 id="å®æ“">å®æ“</h4><blockquote><p>ä¹äº†ï¼Œå·²ç»å´©æºƒäº†ï¼Œè‡ªå·±è¿·è¿·ç³Šç³Šçš„ï¼Œä¸çŸ¥é“èƒ½ä¸èƒ½å†™æ˜ç™½ã€‚ä»£ç å°±ä¸æ”¾å‡ºæ¥å“å”¬äººäº†ã€‚</p><p><s>ä¸ºäº†ä¸è¯¯äººå­å¼Ÿæˆ‘å°±å…ˆå’•äº†ï¼Œç­‰å¤§å½»å¤§æ‚Ÿä¹‹åä¸€å®šå›æ¥å¡«å‘ï¼ï¼ï¼</s></p><p><s>ç»™è‡ªå·±æ‰¾ç‚¹å„¿ä¿¡å¿ƒï¼šSTO ncwzdlsd Orz</s></p></blockquote><p>ä½†æ˜¯ï¼Œå–„è‰¯çš„è’Ÿè’»ä¸ºäº†é˜²æ­¢å¤§å®¶<s>æŠ„é¢˜è§£</s>æ¬£èµåˆ«äººçš„ä»£ç æ€è·¯çš„æ—¶å€™çœ‹ä¸æ‡‚ï¼Œè¿˜æ˜¯ä»‹ç»ä¸€ä¸‹<code>add</code>ã€<code>pushup</code>ã€<code>pushdown</code>ã€<code>change</code>ã€<code>query</code>æ“ä½œå§QwQã€‚<s>å‘µå‘µçœŸæ˜¯ä¸€ä¸ªå£æ˜¯å¿ƒéçš„ç”·äºº</s></p><p>æ³¨ï¼šä¸‹æ–‡çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span></span></span></span>å‡ä»£è¡¨å½“å‰èŠ‚ç‚¹ã€‚</p><ul class="lvl-0"><li class="lvl-2"><p><code>add</code>ï¼šç»™ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œæ›´æ–°å¹¶ä¸”æ‰“ä¸Šæ‡’æ ‡è®°ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> val)</span></span><br><span class="hljs-function"></span>{<br>    tree[k].sum+=(r-l+<span class="hljs-number">1</span>)*val;<br>    tree[k].lazy+=val;<br>}<br></code></pre></td></tr></table></figure></li><li class="lvl-2"><p><code>pushup</code>ï¼šæŠŠä¿®æ”¹ä¸Šæ¨ï¼Œå³æ›´æ–°çˆ¶èŠ‚ç‚¹çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>sum</mtext></mrow><annotation encoding="application/x-tex">\text{sum}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord text"><span class="mord">sum</span></span></span></span></span>å€¼ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-type">int</span> k)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-comment">//ä¹‹å‰ç”¨çš„SegmentTreeï¼Œç°åœ¨ä¸æ‹½äº†ï¼Œè€è€å®å®ç”¨tree</span><br>    tree[k].sum=tree[k*<span class="hljs-number">2</span>].sum+tree[k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>].sum;<br>}<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><ul class="lvl-2"><li class="lvl-4"><p>çˆ¶èŠ‚ç‚¹çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>sum</mtext></mrow><annotation encoding="application/x-tex">\text{sum}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord text"><span class="mord">sum</span></span></span></span></span>ç­‰äºå­èŠ‚ç‚¹çš„å…ƒç´ å’Œã€‚</p></li></ul></li><li class="lvl-2"><p><code>pushdown</code>ï¼šæŠŠä¿®æ”¹ä¸‹æ¨ï¼Œå³æ›´æ–°å­èŠ‚ç‚¹çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>sum</mtext></mrow><annotation encoding="application/x-tex">\text{sum}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord text"><span class="mord">sum</span></span></span></span></span>å€¼ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-type">int</span> mid=(l+r)/<span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">add</span>(k*<span class="hljs-number">2</span>,l,mid,tree[k].lazy);<span class="hljs-comment">//å·¦å­èŠ‚ç‚¹</span><br>    <span class="hljs-built_in">add</span>(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>,mid+<span class="hljs-number">1</span>,r,tree[k].lazy);<span class="hljs-comment">//å³å­èŠ‚ç‚¹</span><br>    lazy[k]=<span class="hljs-number">0</span>;<br>}<br></code></pre></td></tr></table></figure></li><li class="lvl-2"><p><code>change</code>ï¼šä¿®æ”¹æ“ä½œã€‚æŠŠ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>l</mi><mo separator="true">,</mo><mi>r</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[l,r]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:.01968em">l</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mclose">]</span></span></span></span>å…¨éƒ¨+<code>val</code></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> val)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-keyword">if</span>(l&lt;=tree[k].l&amp;&amp;tree[k].r&lt;=r)<span class="hljs-comment">//çœŸåŒ…å«</span><br>    {<br>        tree[k].sum+=(tree[k].r-tree[k].l+<span class="hljs-number">1</span>)*val;<br>        tree[k].lazy+=val;<br>        <span class="hljs-keyword">return</span>;<br>    }<br>    <span class="hljs-built_in">pushdown</span>(k,tree[k].l,tree[k].r);<br>    <span class="hljs-type">int</span> mid=(tree[k].l+tree[k].r)/<span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">if</span>(l&lt;=mid)<br>        <span class="hljs-built_in">change</span>(k*<span class="hljs-number">2</span>,l,r,val);<span class="hljs-comment">//å·¦å­æ ‘ä¸æ›´æ–°åŒºé—´æœ‰äº¤é›†</span><br>    <span class="hljs-keyword">if</span>(r&gt;mid)<br>        <span class="hljs-built_in">change</span>(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>,l,r,val);<br>    <span class="hljs-built_in">pushup</span>(k);<br>}<br></code></pre></td></tr></table></figure></li><li class="lvl-2"><p><code>query</code>ï¼šæŸ¥è¯¢åŒºé—´å’Œã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span></span><br><span class="hljs-function"></span>{<br>    <span class="hljs-keyword">if</span>(l&lt;=tree[k].l&amp;&amp;tree[k].r&lt;=r)<span class="hljs-comment">//å½“å‰åŒºé—´çœŸåŒ…å«äºæŸ¥è¯¢åŒºé—´</span><br>        <span class="hljs-keyword">return</span> tree[k].sum;<br>    <span class="hljs-built_in">pushdown</span>(k,tree[k].l,tree[k].r);<br>    <span class="hljs-type">int</span> res=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> mid=(tree[k].l+tree[k].r)/<span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">if</span>(l&lt;=mid)<br>        res+=<span class="hljs-built_in">query</span>(k*<span class="hljs-number">2</span>,l,r);<br>    <span class="hljs-keyword">if</span>(r&gt;mid)<br>        res+=(k*<span class="hljs-number">2</span>+<span class="hljs-number">1</span>,l,r);<br>    <span class="hljs-keyword">return</span> res;<br>}<br></code></pre></td></tr></table></figure></li></ul><h3 id="åŠ¨æ€å¼€ç‚¹ä¸çº¿æ®µæ ‘åˆå¹¶">åŠ¨æ€å¼€ç‚¹ä¸çº¿æ®µæ ‘åˆå¹¶</h3><ul class="lvl-0"><li class="lvl-2"><p>ä¸ä¼šï¼Œæ­£åœ¨å­¦ä¹ â€¦â€¦<s>å’•å’•å’•å’•å’•</s></p></li></ul><p><s>å¯èƒ½æ²¡å®Œç»“</s>å®Œç»“æ’’èŠ±ï¼ï¼ï¼</p><p>çº¿æ®µæ ‘ï¼Œå­¦äº†ä¸€æ•´å¤©~~ï¼Œæ„Ÿè§‰è‡ªå·±è¿˜æ˜¯åŠæ‡µçŠ¶æ€ï¼Œä¸è¿‡æ…¢æ…¢æ¥åº”è¯¥ä¼šæ‡‚çš„~~ã€‚</p><p><s>ä¸è¡Œäº†ï¼Œæˆ‘é«˜ä½å¾—æ‹œä¸€ä¸‹è‡ªå·±ã€‚</s></p><p><s><strong>STO ncwzdlsd</strong></s></p><blockquote><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2023">ç»ƒæ‰‹æ¿å­é¢˜</a></p></blockquote><p>æˆ‘å¤©è¿™é“æ¿å­é¢˜æˆ‘å±…ç„¶å†™ä¸æ˜ç™½äº†å›ç‚‰é‡é€ å§å‘œå‘œå‘œ</p><p>å¤§å®¶è¿˜æ˜¯ä¸è¦åƒæˆ‘ä¸€æ ·ç”¨ç»“æ„ä½“äº†è¿˜æ˜¯æ”¹å›æ•°ç»„å§</p></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/OI/" class="category-chain-item">OI</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">#æ•°æ®ç»“æ„</a> <a href="/tags/%E7%AC%94%E8%AE%B0/">#ç¬”è®°</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/">#çº¿æ®µæ ‘</a></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/articles/%E5%BF%AB%E9%80%9F%E5%B9%82%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="å¿«é€Ÿå¹‚å­¦ä¹ ç¬”è®°"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">å¿«é€Ÿå¹‚å­¦ä¹ ç¬”è®°</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/articles/%E8%B4%B9%E9%A9%AC%E5%B0%8F%E5%AE%9A%E7%90%86%E3%80%81%E6%AC%A7%E6%8B%89%E5%AE%9A%E7%90%86%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="è´¹é©¬å°å®šç†ã€æ¬§æ‹‰å®šç†å­¦ä¹ ç¬”è®°"><span class="hidden-mobile">è´¹é©¬å°å®šç†ã€æ¬§æ‹‰å®šç†å­¦ä¹ ç¬”è®°</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="waline"></div><script type="text/javascript">Fluid.utils.loadComments("#waline",(function(){Fluid.utils.createCssLink("https://lib.baomitu.com/waline/2.14.1/waline.min.css"),Fluid.utils.createScript("https://lib.baomitu.com/waline/2.14.1/waline.min.js",(function(){var i=Object.assign({serverURL:"https://waline.ncwzdlsd.top/",path:"window.location.pathname",meta:["nick","mail","link"],requiredMeta:["nick"],lang:"zh-CN",emoji:["https://unpkg.com/@waline/emojis@1.1.0/qq"],dark:'html[data-user-color-scheme="color"]',wordLimit:0,pageSize:10},{el:"#waline",path:window.location.pathname});Waline.init(i),Fluid.utils.waitElementVisible("#waline .vcontent",()=>{var i="#waline .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)})}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><div class="footer__copyright">Copyright Â© 2022-2023 ncwzdlsd</div></div><span id="sitetime"></span><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=864e5,t=new Date,o=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),n=t.getHours(),r=t.getMinutes(),l=t.getSeconds(),s=Date.UTC(2022,12,17,12,0,0),M=Date.UTC(o,i,a,n,r,l)-s,g=Math.floor(M/31536e6),m=Math.floor(M/e-365*g),T=Math.floor((M-(365*g+m)*e)/36e5),f=Math.floor((M-(365*g+m)*e-36e5*T)/6e4),h=Math.floor((M-(365*g+m)*e-36e5*T-6e4*f)/1e3);document.getElementById("sitetime").innerHTML="å·²è¿è¡Œ "+m+" å¤© "+T+" å°æ—¶ "+f+" åˆ†é’Ÿ "+h+" ç§’"}siteTime()</script></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript></body></html>